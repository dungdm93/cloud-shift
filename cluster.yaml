imports:
- name: openshift-network.jinja
  path: network/main.jinja
- name: openshift-firewall.jinja
  path: network/firewall.jinja

- name: openshift-gold-image.jinja
  path: machines/gold-image.jinja
- name: openshift-masters.jinja
  path: machines/masters.jinja
- name: openshift-infra-nodes.jinja
  path: machines/infra-nodes.jinja
- name: openshift-app-nodes.jinja
  path: machines/app-nodes.jinja

- name: openshift-master-https-lb.jinja
  path: load-balancers/master-https.jinja
- name: openshift-master-network-lb.jinja
  path: load-balancers/master-network.jinja
- name: openshift-router-network-lb.jinja
  path: load-balancers/router-network.jinja

resources:
- name: openshift-network
  type: openshift-network.jinja
- name: openshift-firewall
  type: openshift-firewall.jinja
  properties:
    openshift_firewall_allow_internal: true

- name: openshift-gold-image
  type: openshift-gold-image.jinja
- name: openshift-masters
  type: openshift-masters.jinja
  properties:
    region: us-central1
    openshift_console_port: 443
    openshift_master_machine_type: n1-standard-1
    openshift_master_boot_disk_size: 10
    openshift_master_instance_group_size: 1
    openshift_master_target_pools:
    - $(ref.openshift-master-network-lb.target-pool)
- name: openshift-infra-nodes
  type: openshift-infra-nodes.jinja
  properties:
    region: us-central1
    openshift_infra_instance_group_size: 1
    openshift_infra_target_pools:
    - $(ref.openshift-router-network-lb.target-pool)
- name: openshift-app-nodes
  type: openshift-app-nodes.jinja
  properties:
    region: us-central1
    openshift_app_instance_group_size: 1
    openshift_app_machine_type: n1-standard-2

- name: openshift-master-https-lb
  type: openshift-master-https-lb.jinja
- name: openshift-master-network-lb
  type: openshift-master-network-lb.jinja
  properties:
    region: us-central1
- name: openshift-router-network-lb
  type: openshift-router-network-lb.jinja
  properties:
    region: us-central1
